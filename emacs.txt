(add-to-list 'load-path "~/.emacs.d/evil")
(require 'evil)
(evil-mode 1)

(menu-bar-mode -1)
(scroll-bar-mode -1)
(tool-bar-mode -1)
(setq inhibit-startup-screen t)
(add-to-list 'default-frame-alist '(fullscreen . maximized))
(ido-mode 1)
(setq ido-separator "\n")

;; the package manager
(require 'package)
(setq
 package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                    ("org" . "http://orgmode.org/elpa/")
                    ("melpa" . "http://melpa.org/packages/")
                    ("melpa-stable" . "http://stable.melpa.org/packages/"))
 package-archive-priorities '(("melpa-stable" . 1)))
(package-initialize)

(when (not package-archive-contents)
  (package-refresh-contents)
  (package-install 'use-package))
(require 'use-package)
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(ansi-color-faces-vector
   [default default default italic underline success warning error])
 '(custom-enabled-themes (quote (wombat)))
 '(ensime-auto-connect (quote always))
 '(ensime-startup-notification nil)
 '(package-selected-packages (quote (projectile ensime ## evil use-package))))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )

(add-to-list 'exec-path "/usr/share/sbt/bin/sbt")

(setq default-directory "/opt/jemstep/code/stormsend")


(use-package ensime
  :ensure t
  :pin melpa-stable)
(setq projectile-project-search-path '("/opt/jemstep/code/"))

(use-package projectile
  :demand
  :init   (setq projectile-use-git-grep t)
  :config (projectile-global-mode t)
  )

(use-package goto-chg
  :commands goto-last-change
  )

(defun dot-emacs ()
 "Go directly to .emacs, do not pass Go, do not collect $200."
 (interactive)
 (message "Stop procrastinating and do some work!")
 (find-file "~/.emacs"))
(global-set-key (kbd "<f6>") 'dot-emacs)

(require 'ensime)
;; Start ensime mode whenever we open scala mode, e.g. open a .scala file
(add-hook 'scala-mode-hook 'ensime-scala-mode-hook)

 ;; emac wide remap
(define-key input-decode-map (kbd "C-h") (kbd "DEL"))
 ;; Evil mode remaps
 ;; Insert mode remaps
(define-key evil-insert-state-map (kbd "C-h") 'delete-backward-char)
 ;; Normal mode remaps
(define-key evil-normal-state-map (kbd "C-n") 'projectile-find-file)
(define-key evil-normal-state-map (kbd "C-S-n") 'projectile-grep)
(define-key evil-normal-state-map (kbd "gd") 'ensime-edit-definition)
(define-key evil-normal-state-map (kbd "gt") 'next-multiframe-window)
(define-key evil-normal-state-map (kbd "gq") 'ensime-type-at-point)
